<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 	
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="springBootTest2.mapper.EmpLibMapper">
<sql id="baseColumns">
	lib_num, lib_writer, lib_subject, lib_content, emp_num, ip_addr, lib_pw
</sql>	

<sql id="autoNum">
	select nvl(max(substr(lib_num,5)),100000) + 1 from emp_library
</sql>

<insert id="emplibInsert" parameterType="emplibDTO">
	insert into (<include refid="baseColumns"/>)
	values(#{libNum}, #{libWriter}, #{libSubject}, #{libContent}, #{empNum}, #{ipAddr}, #{libPw})
</insert>

<select id="selectAll" resultType="emplibDTO">
select lib_num libNum, lib_writer libWriter, lib_subject libSubject
from emp_library
</select>
</mapper>