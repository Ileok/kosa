<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 	
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kosaShoppingMall.mapper.MemberMapper">

<sql id="baseColumns">
	member_num, member_id, member_pw, member_name, member_addr, member_regist, gender, member_phone, member_birth, member_email
</sql>	

<select id="numberGenerate" resultType="string">
select concat('kosa',nvl(max(substr(member_num,5)),100000) + 1) from member
</select>

<insert id = "memInsert" parameterType="memDTO">
	insert into member(<include refid="baseColumns"></include>)
	values(#{memNum}, #{memId}, #{memPw}, #{memName}, #{memAddr}, #{memRegist}, #{gender}, #{memPhone}, #{memBirth}, #{memEmail})		
</insert>

</mapper>