<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"></script>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
   $(function(){
      $("#delete").click(function(){
         $.ajax({
               type:"post",
               url: "../empDelete",
               data: {"id":"[[${employeeCommand.empId}]]"},
               success : function(result){ //next페이지가 정상적으로 열렸을 때
                  alert(result);
                  if(result.trim() == '1'){
                     alert("직원이 정상적으로 삭제되었습니다.");
                     location.href="../empList";
                  }else{
                     altert("직원이 정상적으로 삭제되지 않았습니다.")
                     return false;
                  }
               },
               error : function(){
                  alert("에러 발생");
                  return;
               }
            });
      });
   });
   function del(){
      $.ajax({
            type:"post",
            url: "../empDelete",
            data: {"id":"[[${employeeCommand.empId}]]"},
            success : function(result){ //next페이지가 정상적으로 열렸을 때
               alert(result);
               if(result.trim() == '1'){
                  alert("직원이 정상적으로 삭제되었습니다.");
                  location.href="../empList";
               }else{
                  altert("직원이 정상적으로 삭제되지 않았습니다.")
                  return false;
               }
            },
            error : function(){
               alert("에러 발생");
               return;
            }
            
         });
         
      };
   
</script>
<title>Insert title here</title>
</head>
<body>
직원 상세 페이지입니다.<br />
직원 이름 : [[${employeeCommand.empName }]]<br />
직원 아이디 : [[${employeeCommand.empId }]]<br />
직원 주소 : [[${employeeCommand.empAddr}]]<br />
직원 연락처 : [[${employeeCommand.empPhone }]]<br />
<!-- <form action="empModify" method="post" id="frm">
<input type="hidden" name="empId" th:value="${employeeCommand.empId}" />
비밀번호 : <input type="password" name="empPw" id="empPw" required="required"/><br/>
<span th:text="${errPw}" style="color:red"></span><br/>
<input type="submit" value="수정"/>
<input type="button" value="삭제"  id="delete"/> <br/>
<a th:href="empList">직원 리스트</a> 
</form> -->

<form action="../empModify" method="get">
<input type="hidden" name="empId" th:value="${employeeCommand.empId}">
<input type="submit" value="직원 수정">
<input type="button" value="jquery삭제" id="delete">
<input type="button" value="function삭제" onclick="del();">
</form>
<!-- pathVariable로 할때는 주소 하나씩 줄여줘야 댄다 -->
<!-- href="@{../memDelete(num=${dto.memberNum})}" -->

<a href="javascript.del();">삭제</a>
</body>
</html>